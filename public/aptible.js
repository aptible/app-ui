(() => { "use strict"; var t, e = function (t) { return o()[t] }, n = function (t, e, n) { var o = new Date; o.setDate(o.getDate() + n); var i = t + "=" + e + "; expires=" + o.toUTCString() + "; "; i += "domain=.aptible.com; path=/; SameSite=Lax", window.document.cookie = i }, o = function () { for (var t = {}, e = 0, n = window.document.cookie.split(";"); e < n.length; e++) { var o = n[e].split("="); 2 === o.length && (t[o[0].trim()] = o[1].trim()) } return t }, i = "aptible_id", r = "aptible_user_id", a = new Uint8Array(16); function u() { if (!t && !(t = "undefined" != typeof crypto && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || "undefined" != typeof msCrypto && "function" == typeof msCrypto.getRandomValues && msCrypto.getRandomValues.bind(msCrypto))) throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported"); return t(a) } const d = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i, f = function (t) { return "string" == typeof t && d.test(t) }; for (var c = [], s = 0; s < 256; ++s)c.push((s + 256).toString(16).substr(1)); const l = function (t, e, n) { var o = (t = t || {}).random || (t.rng || u)(); if (o[6] = 15 & o[6] | 64, o[8] = 63 & o[8] | 128, e) { n = n || 0; for (var i = 0; i < 16; ++i)e[n + i] = o[i]; return e } return function (t) { var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, n = (c[t[e + 0]] + c[t[e + 1]] + c[t[e + 2]] + c[t[e + 3]] + "-" + c[t[e + 4]] + c[t[e + 5]] + "-" + c[t[e + 6]] + c[t[e + 7]] + "-" + c[t[e + 8]] + c[t[e + 9]] + "-" + c[t[e + 10]] + c[t[e + 11]] + c[t[e + 12]] + c[t[e + 13]] + c[t[e + 14]] + c[t[e + 15]]).toLowerCase(); if (!f(n)) throw TypeError("Stringified UUID is invalid"); return n }(o) }; var p = function () { var t = e(i); return void 0 === t && (t = m()), n(i, t, 90), t }, m = function () { try { return l() } catch (t) { return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (function (t) { var e = 16 * Math.random() | 0; return ("x" == t ? e : 3 & e | 8).toString(16) })) } }, w = function () { return window.location.href }, x = function () { if (window.document.referrer && window.document.referrer.length > 0) return window.document.referrer.split("?")[0] }, v = function (t, e) { var n = []; for (var o in e) e[o] && e[o].length > 0 && n.push(o + "=" + encodeURIComponent(e[o].trim())); var i = "https://tuna.aptible.com/www/" + t + "?" + n.join("&"); (new Image).src = i }, y = function (t, e) { n(r, e, 90); var o = { id: p(), email: t, url: w(), user_id: e }, i = x(); i && (o.ref = i), v("i", o) }, g = function (t, n) { var o, i = { id: p(), type: t, url: w(), user_id: (o = e(r), void 0 === o && (o = ""), o) }, a = x(); a && (i.ref = a), n && (i.value = n), v("e", i) }, _ = function () { var t; try { t = window.localStorage; var e = "__storage_test__"; return t.setItem(e, e), t.removeItem(e), !0 } catch (e) { return e instanceof DOMException && (22 === e.code || 1014 === e.code || "QuotaExceededError" === e.name || "NS_ERROR_DOM_QUOTA_REACHED" === e.name) && t && 0 !== t.length } }, h = function () { var t = window.document.createElement("div"); return t.setAttribute("class", "pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links"), t.setAttribute("id", "google_ads_iframe_XXXXX/YYYYY/ZZZZ/dfp_XDXD__container__"), t.setAttribute("style", "width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;"), window.document.body.appendChild(t) }, b = function (t, e) { setTimeout((function () { !function (t) { if (!t) return !1; var e = !1; if (null === window.document.body.getAttribute("abp") && null !== t.offsetParent && 0 != t.offsetHeight && 0 != t.offsetLeft && 0 != t.offsetTop && 0 != t.offsetWidth && 0 != t.clientHeight && 0 != t.clientWidth || (e = !0), !e && void 0 !== window.getComputedStyle) { var n = window.getComputedStyle(t, null); !n || "none" !== n.getPropertyValue("display") && "hidden" !== n.getPropertyValue("visibility") || (e = !0) } return e }(t) ? e >= 5 ? S(!1, t) : b(t, e + 1) : S(!0, t) }), 50) }, S = function (t, e) { g("has_ab", t ? "yes" : "no"), function (t) { window.document.body.removeChild(t) }(e), _() && window.localStorage.setItem("testab", "yes") }; !function () { var t = window.aptible; if (t) { t.event = g, t.identify = y; for (var e = 0, n = t._q; e < n.length; e++) { var o = n[e]; switch (o[0]) { case "event": t.event.apply(null, o[1]); break; case "identify": t.identify.apply(null, o[1]) } } var i; delete t._q, function () { if (!function (t) { if (_()) return window.localStorage.getItem("testab") }()) { var t = h(); b(t, 1) } }(), (i = window)._wq = i._wq || [], i._wq.push({ id: "_all", onReady: function (t) { g("wistia:video:available", t.name()), t.bind("play", (function () { g("wistia:video:play", t.name()) })), t.bind("conversion", (function (e, n, o, i) { g("wistia:video:conversion", t.name()), y(n) })) } }) } }() })();